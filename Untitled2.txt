

public class EventLoggingSystemTest {

    private EventSource eventSource;
    private Observer fileLogger;
    private Observer databaseLogger;
    private Observer consoleLogger;

    @Before
    public void setUp() {
        eventSource = new EventSource();
        fileLogger = mock(FileLogger.class);
        databaseLogger = mock(DatabaseLogger.class);
        consoleLogger = mock(ConsoleLogger.class);
    }

    @Test
    public void testEventLogging() {
        eventSource.registerObserver(fileLogger);
        eventSource.registerObserver(databaseLogger);
        eventSource.registerObserver(consoleLogger);

        String event1 = "User Login";
        String event2 = "File Uploaded";

        eventSource.generateEvent(event1);
        eventSource.generateEvent(event2);

        verify(fileLogger, times(1)).update(event1);
        verify(fileLogger, times(1)).update(event2);

        verify(databaseLogger, times(1)).update(event1);
        verify(databaseLogger, times(1)).update(event2);

        verify(consoleLogger, times(1)).update(event1);
        verify(consoleLogger, times(1)).update(event2);
    }

    @Test
    public void testObserverUnregister() {
        eventSource.registerObserver(fileLogger);
        eventSource.unregisterObserver(fileLogger);

        String event = "Test Event";
        eventSource.generateEvent(event);

        verify(fileLogger, never()).update(event);
    }
}
